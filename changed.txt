## ADD BELOW in setup.py



from setuptools import Extension
import numpy as np
import platform
import sys

def extra_args_for_compiler():
    # MSVC vs gcc/clang flags
    if platform.system() == "Windows" and "--compiler=mingw32" not in sys.argv:
        # MSVC
        return ["/O2"]   # keep it minimal; distutils already adds /O2 usually
    else:
        # gcc/clang (Linux/macOS/MinGW)
        return [
            "-DNPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION",
            "-Wunreachable-code",
        ]





ext_modules = [
    Extension(
        "shap_bpt.bpt",
        ["shap_bpt/bpt.pyx"],  # or .c fallback
        include_dirs=[np.get_include()],
        extra_compile_args=extra_args_for_compiler(),
    )
]







--------------------

rmdir /s /q dist build 2>$null
python -m build
dir dist



or


------------------
extra_compile_args = ["-DNPY_NO_DEPRECATED_API=NPY_1_7_API_VERSION"]

if platform.system() != "Windows":
    extra_compile_args += ["-Wunreachable-code"]

